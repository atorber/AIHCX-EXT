# 分布式任务相关

## 创建任务

POST https://console.bce.baidu.com/api/cce/ai-service/v1/cluster/cce-k8yq20rt/aijobv3?queueID=default&locale=zh-cn&_=1758989218430

```
{
  "tensorboard": {
    "enable": false,
    "logPath": "",
    "serviceType": "LoadBalancer"
  },
  "autoCreatePVC": true,
  "priority": "normal",
  "isCustomDelete": false,
  "retentionPeriod": "",
  "retentionUnit": "d",
  "isPolicy": false,
  "cpromId": "",
  "selectedRowKeys": [],
  "pfsId": "pfs-Eo2rEd",
  "imageType": "ccr",
  "runningTimeoutStopTimeUnit": "0d",
  "visibleScope": 1,
  "resourcePoolType": "normal",
  "jobFramework": "pytorch",
  "name": "job-test",
  "command": "sleep 3d",
  "enabledHangDetection": false,
  "unconditionalFaultToleranceLimit": 0,
  "enableReplace": false,
  "queue": "default",
  "vpcId": "vpc-f0pp0jbzip3c",
  "datasource": [
    {
      "type": "emptydir",
      "name": "devshm",
      "mountPath": "/dev/shm",
      "options": {
        "medium": "Memory",
        "sizeLimit": 10
      }
    },
    {
      "type": "bos",
      "sourcePath": "abc/xxx",
      "mountPath": "/xxx",
      "options": {}
    }
  ],
  "jobSpec": {
    "Master": {
      "image": "registry.baidubce.com/aihcp-public/pytorch",
      "tag": "22.08-py3",
      "replicas": 1,
      "env": {
        "AIHC_JOB_NAME": "job-test",
        "NCCL_IB_DISABLE": "1"
      },
      "resource": {},
      "restartPolicy": "Never"
    }
  },
  "faultTolerance": false,
  "jobDistributed": false,
  "labels": {
    "aijob.cce.baidubce.com/create-from-aihcp": "true"
  },
  "annotations": null,
  "workloadType": "PytorchJob"
}
```

```
{
    "result": {
        "jobId": "job-ksmiy32p2c5p",
        "jobName": "job-test",
        "k8sName": "job-ksmiy32p2c5p"
    },
    "success": true
}
```